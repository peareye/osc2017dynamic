{% extends '@admin/_layout.html' %} 

{% block body %}

<h2>Content Management </h2>

{% import _self as this %} {% if posts %}

<h3>Home Page</h3>

<div class="content-admin">
  {% for p in posts if 'home' in p.title|lower %}

  <div class="content-admin-item">
    {{ this.rowToEdit(p) }}
  </div>
  {% endfor %}
</div>
<hr>
<h3>Rates Page</h3>

<div class="content-admin">
  {% for p in posts if 'rate' in p.title|lower %}

  <div class="content-admin-item">
    {{ this.rowToEdit(p) }}
  </div>
  {% endfor %}
</div>




{% else %}
<h4>No posts found</h4>
{% endif %} {% endblock %} {# This is a local HTML function so we do not have to repeat the oursevles #} {% macro rowToEdit(row)
%}

<h5 class="content-admin-title">{{ row.title }}</h5>
<p class="content-admin-button">
  <a href="{{ pathFor('editPost', {'id': row.id}) }}" class="btn btn-primary">Edit</a>
</p>

{% endmacro %}